# æ–¹æ¡ˆä¿å­˜æœºåˆ¶ä¼˜åŒ–å®æ–½è®¡åˆ’

**ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-02-05  
**è®¡åˆ’å‘¨æœŸ**: 2å‘¨  
**ä¼˜å…ˆçº§**: é«˜

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡
ä¼˜åŒ–ç°æœ‰æ–¹æ¡ˆä¿å­˜æœºåˆ¶ï¼Œç¡®ä¿æ‰€æœ‰æ–°å¢ç®—æ³•æ¨¡å—ï¼ˆæ•°æ®æå–è§„åˆ™ã€é€šè®¯å·¥å…·ã€å¢å¼ºç»“æœé¢æ¿ç­‰ï¼‰çš„å‚æ•°èƒ½å¤Ÿå®Œæ•´ã€å‡†ç¡®åœ°æŒä¹…åŒ–å­˜å‚¨å’Œæ¢å¤ã€‚

### 1.2 é¡¹ç›®èŒƒå›´
**åŒ…å«å†…å®¹**:
- å‚æ•°åºåˆ—åŒ–æ¡†æ¶å¼€å‘
- æ•°æ®æå–è§„åˆ™å‚æ•°åºåˆ—åŒ–ä¿®å¤
- è¿æ¥IDç¨³å®šæ€§æ”¹è¿›
- æ•°æ®å†…å®¹æ ¼å¼æ”¹è¿›
- æšä¸¾å®šä¹‰ç»Ÿä¸€
- å®Œæ•´æµ‹è¯•éªŒè¯

**æ’é™¤å†…å®¹**:
- æ–¹æ¡ˆæ–‡ä»¶æ ¼å¼ç‰ˆæœ¬å‡çº§ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰
- å›¾åƒæ•°æ®æŒä¹…åŒ–ï¼ˆä¿æŒç°æœ‰å®ç°ï¼‰
- å†å²æ–¹æ¡ˆæ•°æ®è¿ç§»å·¥å…·

### 1.3 å…³é”®æˆåŠŸæŒ‡æ ‡
- âœ… æ‰€æœ‰æ–°å¢æ¨¡å—å‚æ•°100%å¯åºåˆ—åŒ–
- âœ… æ–¹æ¡ˆä¿å­˜æˆåŠŸç‡100%
- âœ… æ–¹æ¡ˆåŠ è½½æˆåŠŸç‡â‰¥99%ï¼ˆè€ƒè™‘è¿æ¥é…ç½®å˜åŒ–ï¼‰
- âœ… å‘åå…¼å®¹æ€§ä¿æŒï¼ˆæ—§æ–¹æ¡ˆå¯æ­£å¸¸åŠ è½½ï¼‰

---

## äºŒã€ç°çŠ¶åˆ†æ

### 2.1 ç°æœ‰æ–¹æ¡ˆä¿å­˜æœºåˆ¶
- **æ ¸å¿ƒç±»**: `Solution.save()` / `Solution.load()`
- **å‚æ•°å­˜å‚¨**: `ToolBase.get_all_params()` / `ToolBase.set_param()`
- **åºåˆ—åŒ–æ ¼å¼**: JSON
- **æ”¯æŒæ ¼å¼**: .vmsol, .json, .yaml

### 2.2 è¯†åˆ«çš„å…³é”®é—®é¢˜

| é—®é¢˜ID | é—®é¢˜æè¿° | å½±å“ç¨‹åº¦ | é£é™©ç­‰çº§ |
|--------|----------|----------|----------|
| P1 | æ•°æ®æå–è§„åˆ™å‚æ•°å­˜å‚¨ä¸å®Œæ•´ | é«˜ | ğŸ”´ ä¸¥é‡ |
| P2 | åŠ¨æ€è¿æ¥IDä¸ç¨³å®š | é«˜ | ğŸ”´ ä¸¥é‡ |
| P3 | æ•°æ®å†…å®¹æ ¼å¼ä¾èµ–å­—ç¬¦ä¸²è§£æ | ä¸­ | ğŸŸ¡ ä¸­ç­‰ |
| P4 | Callableç±»å‹ä¸å¯åºåˆ—åŒ– | ä¸­ | ğŸŸ¡ ä¸­ç­‰ |
| P5 | æšä¸¾å®šä¹‰é‡å¤å’Œå†²çª | ä½ | ğŸŸ¢ è½»å¾® |

### 2.3 æŠ€æœ¯å€ºåŠ¡
- ç¼ºä¹ç»Ÿä¸€çš„å‚æ•°åºåˆ—åŒ–æ¡†æ¶
- å¤æ‚å¯¹è±¡åºåˆ—åŒ–é€»è¾‘åˆ†æ•£åœ¨å„æ¨¡å—
- ç¼ºä¹åºåˆ—åŒ–éªŒè¯å’Œé”™è¯¯å¤„ç†

---

## ä¸‰ã€å·¥ä½œåˆ†è§£ç»“æ„(WBS)

```
æ–¹æ¡ˆä¿å­˜æœºåˆ¶ä¼˜åŒ–é¡¹ç›®
â”œâ”€â”€ é˜¶æ®µ1ï¼šåŸºç¡€æ¡†æ¶å¼€å‘ (3å¤©)
â”‚   â”œâ”€â”€ ä»»åŠ¡1.1ï¼šåˆ›å»ºå‚æ•°åºåˆ—åŒ–å·¥å…·ç±»
â”‚   â”œâ”€â”€ ä»»åŠ¡1.2ï¼šå®šä¹‰åºåˆ—åŒ–æ¥å£è§„èŒƒ
â”‚   â””â”€â”€ ä»»åŠ¡1.3ï¼šç¼–å†™å•å…ƒæµ‹è¯•æ¡†æ¶
â”œâ”€â”€ é˜¶æ®µ2ï¼šæ ¸å¿ƒé—®é¢˜ä¿®å¤ (4å¤©)
â”‚   â”œâ”€â”€ ä»»åŠ¡2.1ï¼šä¿®å¤æ•°æ®æå–è§„åˆ™åºåˆ—åŒ–
â”‚   â”œâ”€â”€ ä»»åŠ¡2.2ï¼šä¿®å¤ReceiveDataToolå‚æ•°å¤„ç†
â”‚   â”œâ”€â”€ ä»»åŠ¡2.3ï¼šæ”¹è¿›è¿æ¥IDç¨³å®šæ€§
â”‚   â””â”€â”€ ä»»åŠ¡2.4ï¼šæ·»åŠ è¿æ¥é…ç½®éªŒè¯
â”œâ”€â”€ é˜¶æ®µ3ï¼šæ ¼å¼æ”¹è¿› (3å¤©)
â”‚   â”œâ”€â”€ ä»»åŠ¡3.1ï¼šæ”¹è¿›æ•°æ®å†…å®¹æ ¼å¼
â”‚   â”œâ”€â”€ ä»»åŠ¡3.2ï¼šå®ç°å‘åå…¼å®¹è§£æ
â”‚   â””â”€â”€ ä»»åŠ¡3.3ï¼šç»Ÿä¸€æšä¸¾å®šä¹‰
â”œâ”€â”€ é˜¶æ®µ4ï¼šé›†æˆæµ‹è¯• (2å¤©)
â”‚   â”œâ”€â”€ ä»»åŠ¡4.1ï¼šç¼–å†™é›†æˆæµ‹è¯•ç”¨ä¾‹
â”‚   â”œâ”€â”€ ä»»åŠ¡4.2ï¼šæ‰§è¡Œå®Œæ•´æµ‹è¯•æµç¨‹
â”‚   â””â”€â”€ ä»»åŠ¡4.3ï¼šä¿®å¤å‘ç°çš„é—®é¢˜
â””â”€â”€ é˜¶æ®µ5ï¼šæ–‡æ¡£å’Œäº¤ä»˜ (2å¤©)
    â”œâ”€â”€ ä»»åŠ¡5.1ï¼šæ›´æ–°å¼€å‘æ–‡æ¡£
    â”œâ”€â”€ ä»»åŠ¡5.2ï¼šç¼–å†™ä½¿ç”¨æŒ‡å—
    â””â”€â”€ ä»»åŠ¡5.3ï¼šä»£ç å®¡æŸ¥å’Œåˆå¹¶
```

---

## å››ã€è¯¦ç»†å®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ¡†æ¶å¼€å‘ (ç¬¬1-3å¤©)

#### ä»»åŠ¡1.1ï¼šåˆ›å»ºå‚æ•°åºåˆ—åŒ–å·¥å…·ç±»
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: æ—   
**äº¤ä»˜ç‰©**: 
- `core/parameter_serializer.py` - å‚æ•°åºåˆ—åŒ–å™¨
- `core/serializable.py` - å¯åºåˆ—åŒ–æ¥å£åŸºç±»

**è¯¦ç»†è®¾è®¡**:
```python
# æ ¸å¿ƒåŠŸèƒ½
class ParameterSerializer:
    - serialize(value: Any) -> Any  # åºåˆ—åŒ–ä¸ºJSONå…¼å®¹æ ¼å¼
    - deserialize(value: Any, context: Dict) -> Any  # ååºåˆ—åŒ–
    - register_type(type_class, serializer, deserializer)  # æ³¨å†Œè‡ªå®šä¹‰ç±»å‹
    - validate(data: Dict) -> bool  # éªŒè¯åºåˆ—åŒ–æ•°æ®å®Œæ•´æ€§

class Serializable(ABC):
    - to_dict() -> Dict  # æŠ½è±¡æ–¹æ³•
    - from_dict(data: Dict) -> Self  # æŠ½è±¡æ–¹æ³•
    - get_serializable_fields() -> List[str]  # è·å–å¯åºåˆ—åŒ–å­—æ®µ
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒåŸºæœ¬ç±»å‹ï¼ˆint, float, str, bool, Noneï¼‰
- [ ] æ”¯æŒå®¹å™¨ç±»å‹ï¼ˆlist, dict, tupleï¼‰
- [ ] æ”¯æŒæšä¸¾ç±»å‹ï¼ˆè‡ªåŠ¨å¤„ç†Enum.valueï¼‰
- [ ] æ”¯æŒåµŒå¥—å¯¹è±¡ï¼ˆè‡ªåŠ¨è°ƒç”¨to_dict/from_dictï¼‰
- [ ] æ”¯æŒå¾ªç¯å¼•ç”¨æ£€æµ‹
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥100%

#### ä»»åŠ¡1.2ï¼šå®šä¹‰åºåˆ—åŒ–æ¥å£è§„èŒƒ
**è´Ÿè´£äºº**: æ¶æ„å¸ˆ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡1.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- `docs/serialization_spec.md` - åºåˆ—åŒ–è§„èŒƒæ–‡æ¡£
- ä»£ç æ³¨é‡Šå’Œç±»å‹æç¤º

**è§„èŒƒå†…å®¹**:
1. æ‰€æœ‰å¯åºåˆ—åŒ–ç±»å¿…é¡»ç»§æ‰¿ `Serializable`
2. æšä¸¾ç±»å‹ä½¿ç”¨ `{"__type__": "enum", "value": ...}` æ ¼å¼
3. å¯¹è±¡ç±»å‹ä½¿ç”¨ `{"__type__": "object", "__class__": ..., "data": ...}` æ ¼å¼
4. ä¸æ”¯æŒç±»å‹ï¼ˆå¦‚Callableï¼‰ä½¿ç”¨ `{"__type__": "unsupported", "info": ...}` æ ¼å¼
5. å‘åå…¼å®¹ï¼šæœªçŸ¥ç±»å‹å­—æ®µä¿ç•™åŸå€¼

#### ä»»åŠ¡1.3ï¼šç¼–å†™å•å…ƒæµ‹è¯•æ¡†æ¶
**è´Ÿè´£äºº**: æµ‹è¯•å›¢é˜Ÿ  
**å·¥æœŸ**: 1.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡1.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- `tests/test_parameter_serializer.py` - åºåˆ—åŒ–å™¨æµ‹è¯•
- `tests/test_serializable.py` - å¯åºåˆ—åŒ–æ¥å£æµ‹è¯•

**æµ‹è¯•ç”¨ä¾‹**:
- åŸºæœ¬ç±»å‹åºåˆ—åŒ–/ååºåˆ—åŒ–
- åµŒå¥—å¯¹è±¡åºåˆ—åŒ–
- æšä¸¾ç±»å‹å¤„ç†
- å¾ªç¯å¼•ç”¨å¤„ç†
- é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ

---

### é˜¶æ®µ2ï¼šæ ¸å¿ƒé—®é¢˜ä¿®å¤ (ç¬¬4-7å¤©)

#### ä»»åŠ¡2.1ï¼šä¿®å¤æ•°æ®æå–è§„åˆ™åºåˆ—åŒ–
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: é˜¶æ®µ1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- ä¿®æ”¹ `tools/communication/data_extraction_rules.py`
- ç¡®ä¿æ‰€æœ‰è§„åˆ™ç±»æ­£ç¡®å®ç° `Serializable` æ¥å£

**ä¿®æ”¹å†…å®¹**:
```python
# ç¡®ä¿æ‰€æœ‰è§„åˆ™ç±»ç»§æ‰¿Serializable
class DataExtractionRule(Serializable):
    def to_dict(self) -> Dict:
        return ParameterSerializer.serialize({
            "rule_type": self.rule_type,
            "name": self.name,
            # ... å…¶ä»–å­—æ®µ
        })
    
    @classmethod
    def from_dict(cls, data: Dict) -> 'DataExtractionRule':
        deserialized = ParameterSerializer.deserialize(data)
        return cls(**deserialized)
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] DataExtractionRuleå¯å®Œæ•´åºåˆ—åŒ–
- [ ] æ‰€æœ‰å­è§„åˆ™ç±»ï¼ˆBitExtractRuleç­‰ï¼‰å¯åºåˆ—åŒ–
- [ ] é€’å½’è§„åˆ™ï¼ˆConditionalRuleï¼‰æ­£ç¡®å¤„ç†
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡

#### ä»»åŠ¡2.2ï¼šä¿®å¤ReceiveDataToolå‚æ•°å¤„ç†
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡2.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- ä¿®æ”¹ `tools/communication/enhanced_communication.py`

**ä¿®æ”¹å†…å®¹**:
```python
class ReceiveDataTool(ToolBase):
    def set_param(self, key: str, value: Any, **kwargs):
        # ç‰¹æ®Šå¤„ç†æ•°æ®æå–è§„åˆ™å‚æ•°
        if key == "æ•°æ®æå–è§„åˆ™":
            if isinstance(value, DataExtractionRule):
                value = value.to_dict()
            elif isinstance(value, dict) and "rule_type" in value:
                # å·²ç»æ˜¯å­—å…¸æ ¼å¼ï¼ŒéªŒè¯å®Œæ•´æ€§
                pass
        super().set_param(key, value, **kwargs)
    
    def get_param(self, key: str, default=None):
        value = super().get_param(key, default)
        if key == "æ•°æ®æå–è§„åˆ™" and isinstance(value, dict):
            try:
                return DataExtractionRule.from_dict(value)
            except Exception as e:
                self._logger.warning(f"è¿˜åŸæ•°æ®æå–è§„åˆ™å¤±è´¥: {e}")
                return default
        return value
```

#### ä»»åŠ¡2.3ï¼šæ”¹è¿›è¿æ¥IDç¨³å®šæ€§
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1.5å¤©  
**å‰ç½®æ¡ä»¶**: æ—   
**äº¤ä»˜ç‰©**:
- ä¿®æ”¹ `core/communication/connection_manager.py`
- ä¿®æ”¹é€šè®¯å·¥å…·å‚æ•°å¤„ç†

**æ”¹è¿›æ–¹æ¡ˆ**:
1. ä½¿ç”¨è¿æ¥åç§°ä½œä¸ºä¸»é”®ï¼ˆç”¨æˆ·å¯è‡ªå®šä¹‰ï¼Œç›¸å¯¹ç¨³å®šï¼‰
2. ä¿ç•™device_idä½œä¸ºå¤‡ç”¨æŸ¥æ‰¾æ–¹å¼
3. æ·»åŠ è¿æ¥é…ç½®éªŒè¯å’Œæç¤º

```python
class ConnectionManager:
    def get_connection_by_name(self, name: str) -> Optional[Connection]:
        """é€šè¿‡åç§°è·å–è¿æ¥"""
        for conn in self._connections.values():
            if conn.name == name:
                return conn
        return None
    
    def get_connection_safe(self, identifier: str) -> Optional[Connection]:
        """å®‰å…¨è·å–è¿æ¥ï¼ˆæ”¯æŒå¤šç§æ ‡è¯†ç¬¦ï¼‰"""
        # 1. å°è¯•ç›´æ¥é€šè¿‡IDè·å–
        conn = self.get_connection(identifier)
        if conn:
            return conn
        
        # 2. å°è¯•é€šè¿‡åç§°è·å–
        conn = self.get_connection_by_name(identifier)
        if conn:
            return conn
        
        # 3. å°è¯•è§£æ device_id: display_name æ ¼å¼
        if ": " in identifier:
            device_id = identifier.split(": ")[0]
            conn = self.get_connection(device_id)
            if conn:
                return conn
        
        return None
```

#### ä»»åŠ¡2.4ï¼šæ·»åŠ è¿æ¥é…ç½®éªŒè¯
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡2.3å®Œæˆ  
**äº¤ä»˜ç‰©**:
- ä¿®æ”¹ `ui/property_panel.py` æˆ–ç›¸å…³UIç»„ä»¶

**åŠŸèƒ½**:
- æ–¹æ¡ˆåŠ è½½æ—¶éªŒè¯è¿æ¥æ˜¯å¦å­˜åœ¨
- è¿æ¥ä¸å­˜åœ¨æ—¶æ˜¾ç¤ºè­¦å‘Šæç¤º
- æä¾›é‡æ–°é€‰æ‹©è¿æ¥çš„ç•Œé¢

---

### é˜¶æ®µ3ï¼šæ ¼å¼æ”¹è¿› (ç¬¬8-10å¤©)

#### ä»»åŠ¡3.1ï¼šæ”¹è¿›æ•°æ®å†…å®¹æ ¼å¼
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: é˜¶æ®µ2å®Œæˆ  
**äº¤ä»˜ç‰©**:
- ä¿®æ”¹ `ui/data_content_selector.py`
- ä¿®æ”¹é€šè®¯å·¥å…·å‚æ•°è§£æ

**æ–°æ ¼å¼**:
```python
# æ—§æ ¼å¼ï¼ˆæœ‰é£é™©ï¼‰
"æ¨¡å—åç§°.ç»“æœå­—æ®µ"

# æ–°æ ¼å¼ï¼ˆç»“æ„åŒ–ï¼‰
{
    "format_version": "1.0",
    "tool_name": "æ¨¡å—åç§°",
    "field_name": "ç»“æœå­—æ®µ",
    "display_path": "æ¨¡å—åç§°.ç»“æœå­—æ®µ"  # ç”¨äºæ˜¾ç¤º
}
```

**å‘åå…¼å®¹**:
- åŠ è½½æ—¶æ£€æµ‹æ ¼å¼ç‰ˆæœ¬
- æ—§æ ¼å¼è‡ªåŠ¨è½¬æ¢ä¸ºæ–°æ ¼å¼
- ä¿å­˜æ—¶ç»Ÿä¸€ä½¿ç”¨æ–°æ ¼å¼

#### ä»»åŠ¡3.2ï¼šå®ç°å‘åå…¼å®¹è§£æ
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡3.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- å…¼å®¹æ€§è½¬æ¢å·¥å…·

```python
class DataContentFormatConverter:
    @staticmethod
    def convert(old_format: Union[str, Dict]) -> Dict:
        """å°†æ—§æ ¼å¼è½¬æ¢ä¸ºæ–°æ ¼å¼"""
        if isinstance(old_format, str):
            # è§£æ "æ¨¡å—åç§°.ç»“æœå­—æ®µ" æ ¼å¼
            parts = old_format.split(".", 1)
            return {
                "format_version": "1.0",
                "tool_name": parts[0],
                "field_name": parts[1] if len(parts) > 1 else "",
                "display_path": old_format
            }
        elif isinstance(old_format, dict) and "format_version" in old_format:
            # å·²ç»æ˜¯æ–°æ ¼å¼
            return old_format
        else:
            # æœªçŸ¥æ ¼å¼ï¼Œè¿”å›é»˜è®¤å€¼
            return {
                "format_version": "1.0",
                "tool_name": "",
                "field_name": "",
                "display_path": ""
            }
```

#### ä»»åŠ¡3.3ï¼šç»Ÿä¸€æšä¸¾å®šä¹‰
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: æ—   
**äº¤ä»˜ç‰©**:
- åˆ›å»º `core/enums.py`
- ä¿®æ”¹ç›¸å…³æ¨¡å—å¼•ç”¨

**ç»Ÿä¸€æšä¸¾**:
```python
# core/enums.py
from enum import Enum, auto

class DataType(Enum):
    """ç»Ÿä¸€çš„æ•°æ®ç±»å‹æšä¸¾"""
    INT16 = "int16"
    UINT16 = "uint16"
    INT32 = "int32"
    UINT32 = "uint32"
    FLOAT32 = "float32"
    FLOAT64 = "float64"
    BOOL = "bool"
    STRING = "string"
    BYTES = "bytes"
    IMAGE = "image"

class ExtractionRuleType(Enum):
    """æ•°æ®æå–è§„åˆ™ç±»å‹"""
    NONE = "none"
    BIT_EXTRACT = "bit_extract"
    REGISTER_COMBINE = "register_combine"
    TYPE_CONVERT = "type_convert"
    BYTE_ORDER = "byte_order"
    SCALE_OFFSET = "scale_offset"
    CONDITIONAL = "conditional"

class ByteOrder(Enum):
    """å­—èŠ‚åº"""
    BIG_ENDIAN = "big_endian"
    LITTLE_ENDIAN = "little_endian"
```

---

### é˜¶æ®µ4ï¼šé›†æˆæµ‹è¯• (ç¬¬11-12å¤©)

#### ä»»åŠ¡4.1ï¼šç¼–å†™é›†æˆæµ‹è¯•ç”¨ä¾‹
**è´Ÿè´£äºº**: æµ‹è¯•å›¢é˜Ÿ  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: é˜¶æ®µ3å®Œæˆ  
**äº¤ä»˜ç‰©**:
- `tests/integration/test_solution_save_load.py`

**æµ‹è¯•åœºæ™¯**:
1. å®Œæ•´æ–¹æ¡ˆä¿å­˜å’ŒåŠ è½½
2. åŒ…å«æ•°æ®æå–è§„åˆ™çš„æ–¹æ¡ˆ
3. åŒ…å«é€šè®¯å·¥å…·çš„æ–¹æ¡ˆ
4. æ—§æ–¹æ¡ˆå‘åå…¼å®¹åŠ è½½
5. è¿æ¥é…ç½®å˜åŒ–çš„å¤„ç†
6. å¤§æ•°æ®é‡æ–¹æ¡ˆæ€§èƒ½æµ‹è¯•

#### ä»»åŠ¡4.2ï¼šæ‰§è¡Œå®Œæ•´æµ‹è¯•æµç¨‹
**è´Ÿè´£äºº**: æµ‹è¯•å›¢é˜Ÿ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡4.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•å†…å®¹**:
- åŠŸèƒ½æµ‹è¯•ï¼šæ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- å…¼å®¹æ€§æµ‹è¯•ï¼šæ—§æ–¹æ¡ˆå¯æ­£å¸¸åŠ è½½
- æ€§èƒ½æµ‹è¯•ï¼šä¿å­˜/åŠ è½½æ—¶é—´<1ç§’ï¼ˆæ™®é€šæ–¹æ¡ˆï¼‰
- å¼‚å¸¸æµ‹è¯•ï¼šé”™è¯¯å¤„ç†å’Œæ¢å¤

#### ä»»åŠ¡4.3ï¼šä¿®å¤å‘ç°çš„é—®é¢˜
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡4.2å®Œæˆ  
**äº¤ä»˜ç‰©**:
- é—®é¢˜ä¿®å¤ä»£ç 
- å›å½’æµ‹è¯•

---

### é˜¶æ®µ5ï¼šæ–‡æ¡£å’Œäº¤ä»˜ (ç¬¬13-14å¤©)

#### ä»»åŠ¡5.1ï¼šæ›´æ–°å¼€å‘æ–‡æ¡£
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: é˜¶æ®µ4å®Œæˆ  
**äº¤ä»˜ç‰©**:
- æ›´æ–° `AGENTS.md` - æ·»åŠ åºåˆ—åŒ–æœ€ä½³å®è·µ
- æ›´æ–°æ¨¡å—æ–‡æ¡£

**æ–‡æ¡£å†…å®¹**:
- å‚æ•°åºåˆ—åŒ–è§„èŒƒ
- æ–°å¢æ¨¡å—å¼€å‘æŒ‡å—
- å‘åå…¼å®¹æ€§ç»´æŠ¤æŒ‡å—

#### ä»»åŠ¡5.2ï¼šç¼–å†™ä½¿ç”¨æŒ‡å—
**è´Ÿè´£äºº**: æŠ€æœ¯å†™ä½œ  
**å·¥æœŸ**: 0.5å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡5.1å®Œæˆ  
**äº¤ä»˜ç‰©**:
- `docs/guides/solution_save_load_guide.md`

**æŒ‡å—å†…å®¹**:
- æ–¹æ¡ˆä¿å­˜å’ŒåŠ è½½æ“ä½œè¯´æ˜
- å¸¸è§é—®é¢˜è§£å†³
- æœ€ä½³å®è·µå»ºè®®

#### ä»»åŠ¡5.3ï¼šä»£ç å®¡æŸ¥å’Œåˆå¹¶
**è´Ÿè´£äºº**: æŠ€æœ¯è´Ÿè´£äºº  
**å·¥æœŸ**: 1å¤©  
**å‰ç½®æ¡ä»¶**: ä»»åŠ¡5.2å®Œæˆ  
**äº¤ä»˜ç‰©**:
- å®¡æŸ¥é€šè¿‡çš„ä»£ç 
- åˆå¹¶åˆ°ä¸»åˆ†æ”¯

**å®¡æŸ¥è¦ç‚¹**:
- ä»£ç è´¨é‡ï¼ˆPEP8è§„èŒƒï¼‰
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡
- æ–‡æ¡£å®Œæ•´æ€§
- å‘åå…¼å®¹æ€§

---

## äº”ã€æ—¶é—´è§„åˆ’

### ç”˜ç‰¹å›¾

```
ä»»åŠ¡/å¤©æ•° | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |
----------|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
é˜¶æ®µ1     |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |   |   |   |   |
  ä»»åŠ¡1.1 |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |   |   |   |   |   |   |
  ä»»åŠ¡1.2 |   |â–ˆâ–ˆ |   |   |   |   |   |   |   |   |   |   |   |   |
  ä»»åŠ¡1.3 |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |   |   |   |   |
é˜¶æ®µ2     |   |   |   |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |
  ä»»åŠ¡2.1 |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |   |   |   |
  ä»»åŠ¡2.2 |   |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |   |   |   |
  ä»»åŠ¡2.3 |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆ |   |   |   |   |   |   |   |
  ä»»åŠ¡2.4 |   |   |   |   |   |   |â–ˆâ–ˆ |   |   |   |   |   |   |   |
é˜¶æ®µ3     |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|   |   |   |   |
  ä»»åŠ¡3.1 |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |   |
  ä»»åŠ¡3.2 |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |   |
  ä»»åŠ¡3.3 |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |   |
é˜¶æ®µ4     |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|   |   |
  ä»»åŠ¡4.1 |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|   |   |   |
  ä»»åŠ¡4.2 |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆ |   |   |
  ä»»åŠ¡4.3 |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆ |   |   |
é˜¶æ®µ5     |   |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|â–ˆâ–ˆâ–ˆ|
  ä»»åŠ¡5.1 |   |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆ |   |
  ä»»åŠ¡5.2 |   |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆ |   |
  ä»»åŠ¡5.3 |   |   |   |   |   |   |   |   |   |   |   |   |   |â–ˆâ–ˆâ–ˆ|
```

### é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¥æœŸ | äº¤ä»˜ç‰© | éªŒæ”¶æ ‡å‡† |
|--------|------|--------|----------|
| M1 | ç¬¬3å¤© | åŸºç¡€æ¡†æ¶å®Œæˆ | åºåˆ—åŒ–å·¥å…·ç±»é€šè¿‡å•å…ƒæµ‹è¯• |
| M2 | ç¬¬7å¤© | æ ¸å¿ƒé—®é¢˜ä¿®å¤å®Œæˆ | æ•°æ®æå–è§„åˆ™å¯æ­£å¸¸åºåˆ—åŒ– |
| M3 | ç¬¬10å¤© | æ ¼å¼æ”¹è¿›å®Œæˆ | å‘åå…¼å®¹æ€§éªŒè¯é€šè¿‡ |
| M4 | ç¬¬12å¤© | é›†æˆæµ‹è¯•å®Œæˆ | æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| M5 | ç¬¬14å¤© | é¡¹ç›®äº¤ä»˜ | ä»£ç åˆå¹¶åˆ°ä¸»åˆ†æ”¯ |

---

## å…­ã€èµ„æºè§„åˆ’

### äººåŠ›èµ„æº

| è§’è‰² | äººæ•° | èŒè´£ | æŠ•å…¥æ—¶é—´ |
|------|------|------|----------|
| å¼€å‘å·¥ç¨‹å¸ˆ | 2 | ä»£ç å¼€å‘ã€å•å…ƒæµ‹è¯• | å…¨ç¨‹ |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | 1 | æµ‹è¯•ç”¨ä¾‹ç¼–å†™ã€æµ‹è¯•æ‰§è¡Œ | ç¬¬1,4,11-12å¤© |
| æ¶æ„å¸ˆ | 1 | æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡ã€ä»£ç å®¡æŸ¥ | ç¬¬2,7,14å¤© |
| æŠ€æœ¯å†™ä½œ | 1 | æ–‡æ¡£ç¼–å†™ | ç¬¬13å¤© |

### æŠ€æœ¯èµ„æº

- **å¼€å‘ç¯å¢ƒ**: Python 3.8+, PyQt5/6
- **æµ‹è¯•ç¯å¢ƒ**: pytest, coverage
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **æ–‡æ¡£å·¥å…·**: Markdown

---

## ä¸ƒã€é£é™©ç®¡ç†

### é£é™©è¯†åˆ«

| é£é™©ID | é£é™©æè¿° | æ¦‚ç‡ | å½±å“ | é£é™©ç­‰çº§ |
|--------|----------|------|------|----------|
| R1 | å‘åå…¼å®¹æ€§é—®é¢˜å¯¼è‡´æ—§æ–¹æ¡ˆæ— æ³•åŠ è½½ | ä¸­ | é«˜ | ğŸ”´ é«˜ |
| R2 | åºåˆ—åŒ–æ€§èƒ½é—®é¢˜ï¼ˆå¤§æ•°æ®é‡ï¼‰ | ä½ | ä¸­ | ğŸŸ¡ ä¸­ |
| R3 | å¾ªç¯å¼•ç”¨å¯¼è‡´æ ˆæº¢å‡º | ä½ | é«˜ | ğŸŸ¡ ä¸­ |
| R4 | æšä¸¾å†²çªå¯¼è‡´è§£æé”™è¯¯ | ä¸­ | ä¸­ | ğŸŸ¡ ä¸­ |
| R5 | æ—¶é—´å»¶è¯¯ | ä¸­ | ä½ | ğŸŸ¢ ä½ |

### é£é™©åº”å¯¹

**R1 - å‘åå…¼å®¹æ€§é—®é¢˜**
- ç¼“è§£æªæ–½ï¼š
  - å¢åŠ ç‰ˆæœ¬æ£€æµ‹å’Œè‡ªåŠ¨è½¬æ¢
  - ä¿ç•™æ—§æ ¼å¼è§£æé€»è¾‘
  - å…¨é¢çš„å…¼å®¹æ€§æµ‹è¯•
- åº”æ€¥è®¡åˆ’ï¼š
  - æä¾›æ–¹æ¡ˆè½¬æ¢å·¥å…·
  - æ–‡æ¡£è¯´æ˜æ‰‹åŠ¨ä¿®å¤æ–¹æ³•

**R2 - åºåˆ—åŒ–æ€§èƒ½é—®é¢˜**
- ç¼“è§£æªæ–½ï¼š
  - å¢é‡åºåˆ—åŒ–ï¼ˆåªä¿å­˜å˜åŒ–éƒ¨åˆ†ï¼‰
  - å¼‚æ­¥ä¿å­˜ï¼ˆä¸é˜»å¡UIï¼‰
  - æ•°æ®å‹ç¼©
- åº”æ€¥è®¡åˆ’ï¼š
  - é™åˆ¶å•æ¬¡ä¿å­˜æ•°æ®é‡
  - åˆ†é¡µä¿å­˜å¤§æ•°æ®

**R3 - å¾ªç¯å¼•ç”¨**
- ç¼“è§£æªæ–½ï¼š
  - å®ç°å¾ªç¯å¼•ç”¨æ£€æµ‹
  - è®¾ç½®æœ€å¤§é€’å½’æ·±åº¦
  - ä½¿ç”¨å¼•ç”¨IDä»£æ›¿åµŒå¥—
- åº”æ€¥è®¡åˆ’ï¼š
  - æˆªæ–­æ·±å±‚åµŒå¥—
  - è®°å½•è­¦å‘Šæ—¥å¿—

**R4 - æšä¸¾å†²çª**
- ç¼“è§£æªæ–½ï¼š
  - ç»Ÿä¸€æšä¸¾å®šä¹‰
  - ä½¿ç”¨å®Œæ•´ç±»å
  - æ·»åŠ å‘½åç©ºé—´
- åº”æ€¥è®¡åˆ’ï¼š
  - æšä¸¾åˆ«åæ˜ å°„
  - åŠ¨æ€æšä¸¾è§£æ

**R5 - æ—¶é—´å»¶è¯¯**
- ç¼“è§£æªæ–½ï¼š
  - ä»»åŠ¡ä¼˜å…ˆçº§æ’åº
  - æ¯æ—¥è¿›åº¦è·Ÿè¸ª
  - åŠæ—¶è°ƒæ•´è®¡åˆ’
- åº”æ€¥è®¡åˆ’ï¼š
  - ç®€åŒ–éæ ¸å¿ƒåŠŸèƒ½
  - åˆ†é˜¶æ®µäº¤ä»˜

---

## å…«ã€æ²Ÿé€šè®¡åˆ’

### æ²Ÿé€šæ–¹å¼

| æ²Ÿé€šç±»å‹ | é¢‘ç‡ | å‚ä¸äººå‘˜ | å½¢å¼ |
|----------|------|----------|------|
| æ¯æ—¥ç«™ä¼š | æ¯å¤© | å¼€å‘å›¢é˜Ÿ | 15åˆ†é’Ÿä¼šè®® |
| è¿›åº¦æŠ¥å‘Š | æ¯å‘¨ | é¡¹ç›®ç»ç†ã€å¼€å‘å›¢é˜Ÿ | é‚®ä»¶/æ–‡æ¡£ |
| æŠ€æœ¯è¯„å®¡ | é‡Œç¨‹ç¢‘ | æ¶æ„å¸ˆã€å¼€å‘å›¢é˜Ÿ | ä¼šè®® |
| é—®é¢˜å‡çº§ | æŒ‰éœ€ | ç›¸å…³äººå‘˜ | å³æ—¶é€šè®¯ |

### æŠ¥å‘Šå†…å®¹

**æ¯æ—¥ç«™ä¼š**:
- æ˜¨å¤©å®Œæˆçš„å·¥ä½œ
- ä»Šå¤©è®¡åˆ’çš„å·¥ä½œ
- é‡åˆ°çš„é˜»å¡é—®é¢˜

**å‘¨è¿›åº¦æŠ¥å‘Š**:
- æœ¬å‘¨å®Œæˆçš„ä»»åŠ¡
- ä¸‹å‘¨è®¡åˆ’
- é£é™©å’Œé—®é¢˜
- éœ€è¦æ”¯æŒçš„äº‹é¡¹

---

## ä¹ã€è´¨é‡ä¿è¯

### è´¨é‡æ ‡å‡†

1. **ä»£ç è´¨é‡**
   - ç¬¦åˆPEP8è§„èŒƒ
   - ä»£ç å¤æ‚åº¦<10
   - å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥100%

2. **åŠŸèƒ½è´¨é‡**
   - æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
   - è¾¹ç•Œæƒ…å†µæ­£ç¡®å¤„ç†
   - é”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜ç¡®

3. **æ–‡æ¡£è´¨é‡**
   - æ–‡æ¡£å®Œæ•´å‡†ç¡®
   - ç¤ºä¾‹ä»£ç å¯è¿è¡Œ
   - æ›´æ–°åŠæ—¶

### æ£€æŸ¥ç‚¹

- [ ] ä»£ç å®¡æŸ¥é€šè¿‡
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å®¡æŸ¥é€šè¿‡
- [ ] å‘åå…¼å®¹æ€§éªŒè¯é€šè¿‡

---

## åã€éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

- [ ] æ•°æ®æå–è§„åˆ™å‚æ•°å¯å®Œæ•´ä¿å­˜å’ŒåŠ è½½
- [ ] é€šè®¯å·¥å…·è¿æ¥é…ç½®ç¨³å®šå¯é 
- [ ] æ•°æ®å†…å®¹æ ¼å¼æ”¹è¿›ä¸”å‘åå…¼å®¹
- [ ] æ‰€æœ‰æ–°å¢æ¨¡å—å‚æ•°100%å¯åºåˆ—åŒ–
- [ ] æ—§æ–¹æ¡ˆæ–‡ä»¶å¯æ­£å¸¸åŠ è½½
- [ ] æ–°å¢æ¨¡å—å‚æ•°å¯æ­£å¸¸ä¿å­˜å’ŒåŠ è½½
- [ ] åŸæœ¬æ­£å¸¸çš„åŠŸèƒ½ä¸ä¼šå—åˆ°å½±å“

### æ€§èƒ½éªŒæ”¶

- [ ] æ–¹æ¡ˆä¿å­˜æ—¶é—´<1ç§’ï¼ˆ100ä¸ªå·¥å…·ä»¥å†…ï¼‰
- [ ] æ–¹æ¡ˆåŠ è½½æ—¶é—´<1ç§’ï¼ˆ100ä¸ªå·¥å…·ä»¥å†…ï¼‰
- [ ] å†…å­˜å ç”¨å¢åŠ <10%

### è´¨é‡éªŒæ”¶

- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥90%
- [ ] é›†æˆæµ‹è¯•é€šè¿‡ç‡100%
- [ ] ä»£ç å®¡æŸ¥æ— ä¸¥é‡é—®é¢˜
- [ ] æ–‡æ¡£å®Œæ•´å‡†ç¡®

---

## åä¸€ã€é™„å½•

### A. å‚è€ƒæ–‡æ¡£

- [ç°æœ‰æ–¹æ¡ˆä¿å­˜æœºåˆ¶åˆ†æ](./solution_save_analysis.md)
- [å‚æ•°åºåˆ—åŒ–è§„èŒƒ](./serialization_spec.md)
- [AGENTS.md](../AGENTS.md)

### B. æœ¯è¯­è¡¨

| æœ¯è¯­ | å®šä¹‰ |
|------|------|
| åºåˆ—åŒ– | å°†å¯¹è±¡è½¬æ¢ä¸ºå¯å­˜å‚¨æˆ–ä¼ è¾“çš„æ ¼å¼ |
| ååºåˆ—åŒ– | ä»å­˜å‚¨æ ¼å¼è¿˜åŸä¸ºå¯¹è±¡ |
| å‘åå…¼å®¹ | æ–°ç‰ˆæœ¬å¯å¤„ç†æ—§ç‰ˆæœ¬æ•°æ® |
| æ•°æ®æå–è§„åˆ™ | Modbus TCPåè®®æ•°æ®è§£æè§„åˆ™ |

### C. å˜æ›´å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| 1.0 | 2026-02-05 | åˆå§‹ç‰ˆæœ¬ | å¼€å‘å›¢é˜Ÿ |

---

**è®¡åˆ’ç¼–åˆ¶**: å¼€å‘å›¢é˜Ÿ  
**è®¡åˆ’å®¡æ ¸**: æŠ€æœ¯è´Ÿè´£äºº  
**è®¡åˆ’æ‰¹å‡†**: é¡¹ç›®ç»ç†
